<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>IVI WEB</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Canvas para girasoles emoji -->
  <canvas id="girasol-canvas"></canvas>

  <!-- Contenedor del mensaje -->
  <div class="popup-container">
    <h1 id="animated-text" class="animated-word"></h1>
  </div>

  <!-- Animaci√≥n de texto palabra por palabra -->
  <script>
    const mensaje = "FELIZ CUMPLEA√ëOS CHICA HELADO";
    const palabras = mensaje.split(" ");
    const contenedor = document.getElementById("animated-text");

    let i = 0;

    function mostrarPalabra() {
      contenedor.textContent = palabras[i];
      contenedor.classList.remove("animated-word");
      void contenedor.offsetWidth;
      contenedor.classList.add("animated-word");

      i++;
      if (i < palabras.length) {
        setTimeout(mostrarPalabra, 2000);
      } else {
        setTimeout(() => {
          contenedor.classList.remove("animated-word");
          contenedor.classList.add("final-word");

          contenedor.innerHTML = `
            <span class="linea">FELIZ</span>
            <span class="linea">CUMPLEA√ëOS</span>
            <span class="linea">CHICA HELADO</span>
          `;
        }, 2500);
      }
    }

    mostrarPalabra();
  </script>

  <!-- Explosiones tipo confeti -->
  <script>
    function crearExplosion(x, y) {
      const cantidad = 20;
      for (let i = 0; i < cantidad; i++) {
        const p = document.createElement('div');
        p.className = 'confetti';
        p.style.left = `${x}px`;
        p.style.top = `${y}px`;

        const angulo = Math.random() * 2 * Math.PI;
        const distancia = Math.random() * 100 + 50;
        const dx = Math.cos(angulo) * distancia;
        const dy = Math.sin(angulo) * distancia;

        p.style.setProperty('--x', `${dx}px`);
        p.style.setProperty('--y', `${dy}px`);

        document.body.appendChild(p);
        setTimeout(() => p.remove(), 2000);
      }
    }

    setInterval(() => {
      const x = Math.random() * window.innerWidth;
      const y = Math.random() * window.innerHeight;
      crearExplosion(x, y);
    }, 1200);
  </script>

<!-- Lluvia de girasoles tipo Matrix con emoji -->
<script>
  const canvas = document.getElementById("girasol-canvas");
  const ctx = canvas.getContext("2d");

  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const fontSize = 50;
  const columns = Math.floor(canvas.width / fontSize);
  const drops = new Array(columns).fill(0);

  function draw() {
    ctx.fillStyle = "rgba(0, 0, 0, 0.1)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.font = `${fontSize}px serif`;
    ctx.fillStyle = "rgba(255, 255, 0, 0.8)";
    ctx.textAlign = "center";

    for (let i = 0; i < drops.length; i++) {
      const x = i * fontSize + fontSize / 2;
      const y = Math.floor(drops[i]) * fontSize;

      ctx.fillText("üåª", x, y);

      if (y > canvas.height && Math.random() > 0.975) {
        drops[i] = 0;
      }

      drops[i] += 0.2; // velocidad reducida a la mitad
    }

    requestAnimationFrame(draw);
  }

  draw();

  window.addEventListener("resize", () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  });
</script>


<div id="boton-descarga">
  <a href="Pisuke.zip" download>
    <button class="boton-azul">Instala tu regalo üíù</button>
  </a>
</div>

<script>
  setTimeout(() => {
    const boton = document.getElementById("boton-descarga");
    boton.classList.add("visible");
  }, 10000); // 10 segundos
</script>

</body>
</html>
